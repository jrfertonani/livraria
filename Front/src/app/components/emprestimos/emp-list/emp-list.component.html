
<div class="container">

  <div class="container mt-5">
    <button class="btn btn-success w-100" [routerLink]="['/emprestimo/cadastrar']">Cadastrar emprestimo</button>
    <div>
      <label class="form-label">Pesqisar:</label>
      <input
        class="form-control"
        type="text"
        placeholder="Qual livro deseja buscar?" (input)="search($event)"
      />
    </div>

    <div class="text-center">
    <table class="table table-hover table-borderd mt-5">
      <thead class="table-dark" >
        <tr>
          <th>Id</th>
          <th>Usuarios</th>
          <th>Livros</th>
          <th></th>
        </tr>
      </thead>

      <tbody >
        @if (emprestimos.length > 0) {
            @for (emprestimo of emprestimos; track $index) {

              <tr>
                <td>{{ emprestimo.id }}</td>
                <td>{{ emprestimo.nomeUsuario.nome }}</td>
                <td>{{ emprestimo.tituloLivro.titulo }}</td>
                <td>
                  <button class="btn btn-warning mx-2" [routerLink]="['usuarios/cadastrar',emprestimo.id]">Editar</button>
                  <button class="btn btn-info mx-2" >Detalhes</button>
                  <button class="btn btn-danger mx-2" (click)="deletar(emprestimo.id)">Excluir</button>
                </td>
              </tr>
            }
        }@else {
          <tr class="text-center">
            <td colspan="4">Nenhum livro cadastrado!</td>
          </tr>
        }

      </tbody>
    </table>
  </div>
</div>


</div>

